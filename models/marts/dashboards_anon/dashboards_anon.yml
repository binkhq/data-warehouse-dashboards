version: 2

models:
  - name: errors
    columns:
      - name: STATUS_ID
        description: Error 

      - name: STATUS_DESCRIPTION
        description: Description of errror

      - name: STATUS_GROUP
        description: User error / system error

      - name: STATUS_ROLLUP
        description: Summary of error

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: REPEATED_STATUS
        description: Is error immediately repeated

      - name: TO_RESOLVED
        description: Is error immediately resolved to a succesful state

      - name: IS_RESOLVED
        description: Is error eventually resolved to a succesful state

      - name: IS_FINAL_STATE
        description: Is final status

      - name: STATUS_START_TIME
        description: Error event time

      - name: STATUS_END_TIME
        description: Time of next status

  - name: lc_create_events
    columns:
      - name: DATE
        description: All dates with LC additions

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: NEW_LOYALTY_LINKS
        description: New LC added wallet through auth & add_auth

      - name: NEW_LOYALTY_JOINS
        description: New LC added wallet through join & register

  - name: lc_joins_snapshot
    description: On any given day, how many Joined LCs are in a particular state
    columns:
      - name: DATE
        description: All dates

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: SUCCESS_STATE
        description: Number of LCs in success state

      - name: FAILED_STATE
        description: Number of LCs in failed state

      - name: REQUEST_STATE
        description: Number of LCs in request state

      - name: REMOVED_STATE
        description: Number of LCs in removed state

  # - name: lc_joins
  #   columns:
  #     - name: DATE
  #       description: All dates with LC changes

  #     - name: BRAND
  #       description: HSBC / LLOYDS etc

  #     - name: LOYALTY_PLAN_NAME
  #       description: Wasabi club etc

  #     - name: REQUESTED_JOINS
  #       description: Number of LC join request events

  #     - name: FAILED_JOINS
  #       description: Number of LC join failed events

  #     - name: SUCCESSFUL_JOINS
  #       description: Number of LC join success events

  - name: lc_links_snapshot
    description: On any given day, how many Linked LCs are in a particular state
    columns:
      - name: DATE
        description: All dates

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: SUCCESS_STATE
        description: Number of LCs in success state

      - name: FAILED_STATE
        description: Number of LCs in failed state

      - name: REQUEST_STATE
        description: Number of LCs in request state

      - name: REMOVED_STATE
        description: Number of LCs in removed state

  - name: lc_joins_links
    columns:
      - name: DATE
        description: All dates with LC changes

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: PENDING_JOINS
        description: Number of LC join pending events

      - name: FAILED_JOINS
        description: Number of LC join failed events

      - name: SUCCESSFUL_JOINS
        description: Number of LC join success events


  - name: lc_registered_deleted
    columns:
      - name: DATE
        description: All dates with LC changes

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: LC_CREATED
        description: Number of LC created per day, brand, and loyalty plan

      - name: LC_DELETED
        description: Number of LC deleted per day, brand, and loyalty plan

      - name: DAILY_CHANGE_IN_LC
        description: LC Created - Deleted

      - name: TOTAL_LC_COUNT
        description: Total LC (Rolling count) per day, brand, and loyalty plan

  - name: user_with_lc
    columns:
      - name: DATE
        description: All dates with LC changes

      - name: BRAND
        description: HSBC / LLOYDS etc

      - name: LOYALTY_PLAN_NAME
        description: Wasabi club etc

      - name: LC_USERS_CREATED
        description: Number of LC created per day, brand, and loyalty plan

      - name: LC_USERS_DELETED
        description: Number of LC deleted per day, brand, and loyalty plan

      - name: DAILY_CHANGE_IN_LC_USERS
        description: LC Created - Deleted

      - name: TOTAL_LC_USERS_COUNT
        description: Total LC (Rolling count) per day, brand, and loyalty plan